<h2>Processed requests</h2>

<div>
    <div *ngIf="createRequests" class = "create-requests-container">
        <create-request-popup *ngIf="showCreateRequestPopup"
                              [request]="createRequest"
                              [role]="this.storeService.getRole()"
                              (onCloseEvent)="onCloseCreateRequestPopup()"> </create-request-popup>
        <h2>Create polis requests</h2>
        <div class="centerify">
            <table>
                <tr>
                    <th>Id</th>
                    <th>Status</th>
                    <th>Client</th>
                </tr>
                <tr *ngFor="let request of createRequests"
                    (click)="onCreateRequestClick(request)">
                    <td>{{request.id}}</td>
                    <td>{{request.status}}</td>
                    <td>{{request.clientId}}</td>
                </tr>
            </table>
        </div>
    </div>
    <br>
    <div *ngIf="updateDataRequests">
        <update-polis-data-request-popup *ngIf="showUpdateRequestPopup"
                              [request]="updateRequest"
                              (onCloseEvent)="onCloseUpdateRequestPopup()"> </update-polis-data-request-popup>
        <h2>Update data requests</h2>
        <div class="centerify">
            <table>
                <tr>
                    <th>Id</th>
                    <th>Insurance polis</th>
                    <th>Status</th>
                </tr>
                <tr *ngFor="let request of updateDataRequests"
                    (click)="onUpdateRequestClick(request)">
                    <td>{{request.id}}</td>
                    <td>{{request.insurancePolisId}}</td>
                    <td>{{request.status}}</td>
                </tr>
            </table>
        </div>
    </div>
    <br>
    <div *ngIf="insurancePaymentsRequests">
        <get-payments-request-popup *ngIf="showPaymentsRequestPopup"
                                         [request]="paymentsRequest"
                                    (onCloseEvent)="onClosePaymentsRequestPopup()"> </get-payments-request-popup>
        <h2>Get insurance payments requests</h2>
        <div class="centerify">
            <table>
                <tr>
                    <th>Id</th>
                    <th>Insurance polis</th>
                    <th>Status</th>
                </tr>
                <tr *ngFor="let request of insurancePaymentsRequests"
                    (click)="onPaymentsRequestClick(request)">
                    <td>{{request.id}}</td>
                    <td>{{request.insurancePolisId}}</td>
                    <td>{{request.status}}</td>
                </tr>
            </table>
        </div>
    </div>
    <br>
    <div class="centerify">
        <button *ngIf="!showCreateRequestPopup && !showUpdateRequestPopup && !showPaymentsRequestPopup"
                [routerLink]="'/client/base'"><span>Back</span></button>
    </div>
</div>
